<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <link rel="stylesheet" href="css/styles.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<%= javascript_pack_tag "in" %>
<%= javascript_pack_tag "search" %>

<script>
    if (('webkitSpeechRecognition' in window)) {
        console.log("webkit in window");
        var recognition = new webkitSpeechRecognition();

        recognition.continuous = true;
        recognition.interimResults = true;
        recognition.lang = "en";
        recognition.onresult = function (event) {
            for (var i = event.resultIndex; i < event.results.length; ++i) {
                if (event.results[i].isFinal) {
                    document.getElementById("level").value = document.getElementById("level").value + event.results[i][0].transcript;
                }
            }
        };
    }
</script>

<body>
<header>
    <div class="title">
        <h1>Start to build my PC</h1>
    </div>
 </header>

<div class="row">
    <div class="column" id="searchArea">
        <label for="level">Enter your level (gamer, common user, student)</label>
        <div>
            <input type="text" id="level" name="search-level">
        </div>
        <label for="budget">Enter your budget</label>
        <div>
            <input type="text" id="budget" name="search-budget">
        </div>
        <label for="email">Enter your email</label>
        <div>
            <input type="text" id="email" name="search-email">
        </div>
        <%# <input class="btn" type="button" id="submit" value="Search" onclick=<% javascript_tag "submitChat()" %1>> %>
        <%# <%= button_tag "search", '<% javascript_tag "submitChat()" %1>', :class => "buttonGrey" %1> %>
        <%= button_tag "Search", type: 'button', onclick: "window.submitChat()", class: 'btn btn-default' %>
    </div>

    <div class="column" id="topSets">
        <p id="top_header">
            <i class="fa fa-trophy" style="color: rgb(212, 155, 12)"></i> Top Hits
            <i class="fa fa-trophy" style="color: rgb(212, 155, 12)"></i>
        </p>
        <div id="top_hardware_info">
            <b>Top CPU: </b>
            <div id="top_CPU"></div>
            <b>Top GPU: </b>
            <div id="top_GPU"></div>
            <b>Top RAM: </b>
            <div id="top_RAM"></div>
            <b>Top SSD: </b>
            <div id="top_SSD"></div>
            <b>Top HDD: </b>
            <div id="top_HDD"></div>
            <b>Top USB: </b>
            <div id="top_USB"></div>
        </div>
        
        
    </div>
</div>

<div class="recommendations">
    <div id="hardware_info"></div>
    <div id="CPU"><br></div>
    <div id="GPU"><br></div>
    <div id="RAM"><br></div>
    <div id="SSD"><br></div>
    <div id="HDD"><br></div>
    <div id="USB"><br></div>
</div>

</body>

<footer>
    <div class="copyright">
        By Ruihan Yu, Junqi Zhang, Yuanqi Dan, Tracy Li, Jiawen Li, Yuerong Zhang, Chang Gao.
    </div>
</footer>
</html>
