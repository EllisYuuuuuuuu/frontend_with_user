{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/packs/\",n(n.s=10)}({10:function(e,t){var n=n||{};n.core=n.core||{},n.core.sigV4ClientFactory={},n.core.sigV4ClientFactory.newClient=function(e){var t=\"AWS4-HMAC-SHA256\",r=\"aws4_request\";function o(e){return CryptoJS.SHA256(e)}function i(e){return e.toString(CryptoJS.enc.Hex)}function s(e,t){return CryptoJS.HmacSHA256(t,e,{asBytes:!0})}function c(e,t,n,r,s){return e+\"\\n\"+(encodeURI(t)+\"\\n\")+u(n)+\"\\n\"+function(e){var t=\"\",n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);n.sort();for(var o=0;o<n.length;o++)t+=n[o].toLowerCase()+\":\"+e[n[o]]+\"\\n\";return t}(r)+\"\\n\"+a(r)+\"\\n\"+i(o(s))}function u(e){if(Object.keys(e).length<1)return\"\";var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);t.sort();for(var r,o=\"\",i=0;i<t.length;i++)o+=t[i]+\"=\"+(r=e[t[i]],encodeURIComponent(r).replace(/[!'()*]/g,(function(e){return\"%\"+e.charCodeAt(0).toString(16).toUpperCase()}))+\"&\");return o.substr(0,o.length-1)}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n.toLowerCase());return t.sort(),t.join(\";\")}var f={};return void 0===e.accessKey||void 0===e.secretKey||(f.accessKey=n.core.utils.assertDefined(e.accessKey,\"accessKey\"),f.secretKey=n.core.utils.assertDefined(e.secretKey,\"secretKey\"),f.sessionToken=e.sessionToken,f.serviceName=n.core.utils.assertDefined(e.serviceName,\"serviceName\"),f.region=n.core.utils.assertDefined(e.region,\"region\"),f.endpoint=n.core.utils.assertDefined(e.endpoint,\"endpoint\"),f.makeRequest=function(d){var l=n.core.utils.assertDefined(d.verb,\"verb\"),p=n.core.utils.assertDefined(d.path,\"path\"),y=n.core.utils.copy(d.queryParams);void 0===y&&(y={});var v=n.core.utils.copy(d.headers);void 0===v&&(v={}),void 0===v[\"Content-Type\"]&&(v[\"Content-Type\"]=e.defaultContentType),void 0===v.Accept&&(v.Accept=e.defaultAcceptType);var g=n.core.utils.copy(d.body);\"\"!==(g=void 0===g||\"GET\"===l?\"\":JSON.stringify(g))&&void 0!==g&&null!==g||delete v[\"Content-Type\"];var h=(new Date).toISOString().replace(/\\.\\d{3}Z$/,\"Z\").replace(/[:\\-]|\\.\\d{3}/g,\"\");v[\"x-amz-date\"]=h;var m=document.createElement(\"a\");m.href=f.endpoint,v.host=m.hostname;var b=function(e){return i(o(e))}(c(l,p,y,v,g)),C=function(e,t,n){return e.substr(0,8)+\"/\"+t+\"/\"+n+\"/\"+r}(h,f.region,f.serviceName),S=function(e,n,r){return t+\"\\n\"+e+\"\\n\"+n+\"\\n\"+r}(h,C,b),T=function(e,t,n,o){return s(s(s(s(\"AWS4\"+e,t.substr(0,8)),n),o),r)}(f.secretKey,h,f.region,f.serviceName),O=function(e,t){return i(s(e,t))}(T,S);v.Authorization=function(e,n,r,o){return t+\" Credential=\"+e+\"/\"+n+\", SignedHeaders=\"+a(r)+\", Signature=\"+o}(f.accessKey,C,v,O),void 0!==f.sessionToken&&\"\"!==f.sessionToken&&(v[\"x-amz-security-token\"]=f.sessionToken),delete v.host;var A=e.endpoint+p,K=u(y);return\"\"!=K&&(A+=\"?\"+K),void 0===v[\"Content-Type\"]&&(v[\"Content-Type\"]=e.defaultContentType),axios({method:l,url:A,headers:v,data:g})}),f}}});","name":"js/lib/apiGatewayCore/sigV4Client-1af616ac71e037915a3a.js","map":{"version":3,"sources":["js/lib/apiGatewayCore/sigV4Client-1af616ac71e037915a3a.js"],"names":["modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","apiGateway","core","sigV4ClientFactory","newClient","config","AWS_SHA_256","AWS4_REQUEST","hash","CryptoJS","SHA256","hexEncode","toString","enc","Hex","hmac","secret","HmacSHA256","asBytes","buildCanonicalRequest","method","path","queryParams","headers","payload","encodeURI","buildCanonicalQueryString","canonicalHeaders","sortedKeys","push","sort","length","toLowerCase","buildCanonicalHeaders","buildCanonicalSignedHeaders","keys","sortedQueryParams","str","canonicalQueryString","encodeURIComponent","replace","charCodeAt","toUpperCase","substr","join","awsSigV4Client","undefined","accessKey","secretKey","utils","assertDefined","sessionToken","serviceName","region","endpoint","makeRequest","request","verb","copy","defaultContentType","defaultAcceptType","body","JSON","stringify","datetime","Date","toISOString","parser","document","createElement","href","hostname","hashedCanonicalRequest","hashCanonicalRequest","credentialScope","service","buildCredentialScope","stringToSign","buildStringToSign","signingKey","calculateSigningKey","signature","calculateSignature","buildAuthorizationHeader","url","queryString","axios","data"],"mappings":"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"},"input":"/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/packs/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 10:\n/***/ (function(module, exports) {\n\n/*\n * Copyright 2010-2016 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the \"license\" file accompanying this file. This file is distributed\n * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */var apiGateway=apiGateway||{};apiGateway.core=apiGateway.core||{};apiGateway.core.sigV4ClientFactory={};apiGateway.core.sigV4ClientFactory.newClient=function(config){var AWS_SHA_256='AWS4-HMAC-SHA256';var AWS4_REQUEST='aws4_request';var AWS4='AWS4';var X_AMZ_DATE='x-amz-date';var X_AMZ_SECURITY_TOKEN='x-amz-security-token';var HOST='host';var AUTHORIZATION='Authorization';function hash(value){return CryptoJS.SHA256(value);}function hexEncode(value){return value.toString(CryptoJS.enc.Hex);}function hmac(secret,value){return CryptoJS.HmacSHA256(value,secret,{asBytes:true});}function buildCanonicalRequest(method,path,queryParams,headers,payload){return method+'\\n'+buildCanonicalUri(path)+'\\n'+buildCanonicalQueryString(queryParams)+'\\n'+buildCanonicalHeaders(headers)+'\\n'+buildCanonicalSignedHeaders(headers)+'\\n'+hexEncode(hash(payload));}function hashCanonicalRequest(request){return hexEncode(hash(request));}function buildCanonicalUri(uri){return encodeURI(uri);}function buildCanonicalQueryString(queryParams){if(Object.keys(queryParams).length<1){return'';}var sortedQueryParams=[];for(var property in queryParams){if(queryParams.hasOwnProperty(property)){sortedQueryParams.push(property);}}sortedQueryParams.sort();var canonicalQueryString='';for(var i=0;i<sortedQueryParams.length;i++){canonicalQueryString+=sortedQueryParams[i]+'='+fixedEncodeURIComponent(queryParams[sortedQueryParams[i]])+'&';}return canonicalQueryString.substr(0,canonicalQueryString.length-1);}function fixedEncodeURIComponent(str){return encodeURIComponent(str).replace(/[!'()*]/g,function(c){return'%'+c.charCodeAt(0).toString(16).toUpperCase();});}function buildCanonicalHeaders(headers){var canonicalHeaders='';var sortedKeys=[];for(var property in headers){if(headers.hasOwnProperty(property)){sortedKeys.push(property);}}sortedKeys.sort();for(var i=0;i<sortedKeys.length;i++){canonicalHeaders+=sortedKeys[i].toLowerCase()+':'+headers[sortedKeys[i]]+'\\n';}return canonicalHeaders;}function buildCanonicalSignedHeaders(headers){var sortedKeys=[];for(var property in headers){if(headers.hasOwnProperty(property)){sortedKeys.push(property.toLowerCase());}}sortedKeys.sort();return sortedKeys.join(';');}function buildStringToSign(datetime,credentialScope,hashedCanonicalRequest){return AWS_SHA_256+'\\n'+datetime+'\\n'+credentialScope+'\\n'+hashedCanonicalRequest;}function buildCredentialScope(datetime,region,service){return datetime.substr(0,8)+'/'+region+'/'+service+'/'+AWS4_REQUEST;}function calculateSigningKey(secretKey,datetime,region,service){return hmac(hmac(hmac(hmac(AWS4+secretKey,datetime.substr(0,8)),region),service),AWS4_REQUEST);}function calculateSignature(key,stringToSign){return hexEncode(hmac(key,stringToSign));}function buildAuthorizationHeader(accessKey,credentialScope,headers,signature){return AWS_SHA_256+' Credential='+accessKey+'/'+credentialScope+', SignedHeaders='+buildCanonicalSignedHeaders(headers)+', Signature='+signature;}var awsSigV4Client={};if(config.accessKey===undefined||config.secretKey===undefined){return awsSigV4Client;}awsSigV4Client.accessKey=apiGateway.core.utils.assertDefined(config.accessKey,'accessKey');awsSigV4Client.secretKey=apiGateway.core.utils.assertDefined(config.secretKey,'secretKey');awsSigV4Client.sessionToken=config.sessionToken;awsSigV4Client.serviceName=apiGateway.core.utils.assertDefined(config.serviceName,'serviceName');awsSigV4Client.region=apiGateway.core.utils.assertDefined(config.region,'region');awsSigV4Client.endpoint=apiGateway.core.utils.assertDefined(config.endpoint,'endpoint');awsSigV4Client.makeRequest=function(request){var verb=apiGateway.core.utils.assertDefined(request.verb,'verb');var path=apiGateway.core.utils.assertDefined(request.path,'path');var queryParams=apiGateway.core.utils.copy(request.queryParams);if(queryParams===undefined){queryParams={};}var headers=apiGateway.core.utils.copy(request.headers);if(headers===undefined){headers={};}//If the user has not specified an override for Content type the use default\nif(headers['Content-Type']===undefined){headers['Content-Type']=config.defaultContentType;}//If the user has not specified an override for Accept type the use default\nif(headers['Accept']===undefined){headers['Accept']=config.defaultAcceptType;}var body=apiGateway.core.utils.copy(request.body);if(body===undefined||verb==='GET'){// override request body and set to empty when signing GET requests\nbody='';}else{body=JSON.stringify(body);}//If there is no body remove the content-type header so it is not included in SigV4 calculation\nif(body===''||body===undefined||body===null){delete headers['Content-Type'];}var datetime=new Date().toISOString().replace(/\\.\\d{3}Z$/,'Z').replace(/[:\\-]|\\.\\d{3}/g,'');headers[X_AMZ_DATE]=datetime;var parser=document.createElement('a');parser.href=awsSigV4Client.endpoint;headers[HOST]=parser.hostname;var canonicalRequest=buildCanonicalRequest(verb,path,queryParams,headers,body);var hashedCanonicalRequest=hashCanonicalRequest(canonicalRequest);var credentialScope=buildCredentialScope(datetime,awsSigV4Client.region,awsSigV4Client.serviceName);var stringToSign=buildStringToSign(datetime,credentialScope,hashedCanonicalRequest);var signingKey=calculateSigningKey(awsSigV4Client.secretKey,datetime,awsSigV4Client.region,awsSigV4Client.serviceName);var signature=calculateSignature(signingKey,stringToSign);headers[AUTHORIZATION]=buildAuthorizationHeader(awsSigV4Client.accessKey,credentialScope,headers,signature);if(awsSigV4Client.sessionToken!==undefined&&awsSigV4Client.sessionToken!==''){headers[X_AMZ_SECURITY_TOKEN]=awsSigV4Client.sessionToken;}delete headers[HOST];var url=config.endpoint+path;var queryString=buildCanonicalQueryString(queryParams);if(queryString!=''){url+='?'+queryString;}//Need to re-attach Content-Type if it is not specified at this point\nif(headers['Content-Type']===undefined){headers['Content-Type']=config.defaultContentType;}var signedRequest={method:verb,url:url,headers:headers,data:body};return axios(signedRequest);};return awsSigV4Client;};\n\n/***/ })\n\n/******/ });","inputSourceMap":{"version":3,"sources":["webpack/bootstrap","/Users/keyzhang/WebZero/app/javascript/packs/lib/apiGatewayCore/sigV4Client.js"],"names":["apiGateway","core","sigV4ClientFactory","newClient","config","AWS_SHA_256","AWS4_REQUEST","AWS4","X_AMZ_DATE","X_AMZ_SECURITY_TOKEN","HOST","AUTHORIZATION","hash","value","CryptoJS","SHA256","hexEncode","toString","enc","Hex","hmac","secret","HmacSHA256","asBytes","buildCanonicalRequest","method","path","queryParams","headers","payload","buildCanonicalUri","buildCanonicalQueryString","buildCanonicalHeaders","buildCanonicalSignedHeaders","hashCanonicalRequest","request","uri","encodeURI","Object","keys","length","sortedQueryParams","property","hasOwnProperty","push","sort","canonicalQueryString","i","fixedEncodeURIComponent","substr","str","encodeURIComponent","replace","c","charCodeAt","toUpperCase","canonicalHeaders","sortedKeys","toLowerCase","join","buildStringToSign","datetime","credentialScope","hashedCanonicalRequest","buildCredentialScope","region","service","calculateSigningKey","secretKey","calculateSignature","key","stringToSign","buildAuthorizationHeader","accessKey","signature","awsSigV4Client","undefined","utils","assertDefined","sessionToken","serviceName","endpoint","makeRequest","verb","copy","defaultContentType","defaultAcceptType","body","JSON","stringify","Date","toISOString","parser","document","createElement","href","hostname","canonicalRequest","signingKey","url","queryString","signedRequest","data","axios"],"mappings":"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","file":"x","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","/*\n * Copyright 2010-2016 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the \"license\" file accompanying this file. This file is distributed\n * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\n \nvar apiGateway = apiGateway || {};\napiGateway.core = apiGateway.core || {};\n\napiGateway.core.sigV4ClientFactory = {};\napiGateway.core.sigV4ClientFactory.newClient = function (config) {\n    var AWS_SHA_256 = 'AWS4-HMAC-SHA256';\n    var AWS4_REQUEST = 'aws4_request';\n    var AWS4 = 'AWS4';\n    var X_AMZ_DATE = 'x-amz-date';\n    var X_AMZ_SECURITY_TOKEN = 'x-amz-security-token';\n    var HOST = 'host';\n    var AUTHORIZATION = 'Authorization';\n\n    function hash(value) {\n        return CryptoJS.SHA256(value);\n    }\n\n    function hexEncode(value) {\n        return value.toString(CryptoJS.enc.Hex);\n    }\n\n    function hmac(secret, value) {\n        return CryptoJS.HmacSHA256(value, secret, {asBytes: true});\n    }\n\n    function buildCanonicalRequest(method, path, queryParams, headers, payload) {\n        return method + '\\n' +\n            buildCanonicalUri(path) + '\\n' +\n            buildCanonicalQueryString(queryParams) + '\\n' +\n            buildCanonicalHeaders(headers) + '\\n' +\n            buildCanonicalSignedHeaders(headers) + '\\n' +\n            hexEncode(hash(payload));\n    }\n\n    function hashCanonicalRequest(request) {\n        return hexEncode(hash(request));\n    }\n\n    function buildCanonicalUri(uri) {\n        return encodeURI(uri);\n    }\n\n    function buildCanonicalQueryString(queryParams) {\n        if (Object.keys(queryParams).length < 1) {\n            return '';\n        }\n\n        var sortedQueryParams = [];\n        for (var property in queryParams) {\n            if (queryParams.hasOwnProperty(property)) {\n                sortedQueryParams.push(property);\n            }\n        }\n        sortedQueryParams.sort();\n\n        var canonicalQueryString = '';\n        for (var i = 0; i < sortedQueryParams.length; i++) {\n            canonicalQueryString += sortedQueryParams[i] + '=' + fixedEncodeURIComponent(queryParams[sortedQueryParams[i]]) + '&';\n        }\n        return canonicalQueryString.substr(0, canonicalQueryString.length - 1);\n    }\n\n    function fixedEncodeURIComponent (str) {\n      return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {\n        return '%' + c.charCodeAt(0).toString(16).toUpperCase();\n      });\n    }\n\n    function buildCanonicalHeaders(headers) {\n        var canonicalHeaders = '';\n        var sortedKeys = [];\n        for (var property in headers) {\n            if (headers.hasOwnProperty(property)) {\n                sortedKeys.push(property);\n            }\n        }\n        sortedKeys.sort();\n\n        for (var i = 0; i < sortedKeys.length; i++) {\n            canonicalHeaders += sortedKeys[i].toLowerCase() + ':' + headers[sortedKeys[i]] + '\\n';\n        }\n        return canonicalHeaders;\n    }\n\n    function buildCanonicalSignedHeaders(headers) {\n        var sortedKeys = [];\n        for (var property in headers) {\n            if (headers.hasOwnProperty(property)) {\n                sortedKeys.push(property.toLowerCase());\n            }\n        }\n        sortedKeys.sort();\n\n        return sortedKeys.join(';');\n    }\n\n    function buildStringToSign(datetime, credentialScope, hashedCanonicalRequest) {\n        return AWS_SHA_256 + '\\n' +\n            datetime + '\\n' +\n            credentialScope + '\\n' +\n            hashedCanonicalRequest;\n    }\n\n    function buildCredentialScope(datetime, region, service) {\n        return datetime.substr(0, 8) + '/' + region + '/' + service + '/' + AWS4_REQUEST\n    }\n\n    function calculateSigningKey(secretKey, datetime, region, service) {\n        return hmac(hmac(hmac(hmac(AWS4 + secretKey, datetime.substr(0, 8)), region), service), AWS4_REQUEST);\n    }\n\n    function calculateSignature(key, stringToSign) {\n        return hexEncode(hmac(key, stringToSign));\n    }\n\n    function buildAuthorizationHeader(accessKey, credentialScope, headers, signature) {\n        return AWS_SHA_256 + ' Credential=' + accessKey + '/' + credentialScope + ', SignedHeaders=' + buildCanonicalSignedHeaders(headers) + ', Signature=' + signature;\n    }\n\n    var awsSigV4Client = { };\n    if(config.accessKey === undefined || config.secretKey === undefined) {\n        return awsSigV4Client;\n    }\n    awsSigV4Client.accessKey = apiGateway.core.utils.assertDefined(config.accessKey, 'accessKey');\n    awsSigV4Client.secretKey = apiGateway.core.utils.assertDefined(config.secretKey, 'secretKey');\n    awsSigV4Client.sessionToken = config.sessionToken;\n    awsSigV4Client.serviceName = apiGateway.core.utils.assertDefined(config.serviceName, 'serviceName');\n    awsSigV4Client.region = apiGateway.core.utils.assertDefined(config.region, 'region');\n    awsSigV4Client.endpoint = apiGateway.core.utils.assertDefined(config.endpoint, 'endpoint');\n\n    awsSigV4Client.makeRequest = function (request) {\n        var verb = apiGateway.core.utils.assertDefined(request.verb, 'verb');\n        var path = apiGateway.core.utils.assertDefined(request.path, 'path');\n        var queryParams = apiGateway.core.utils.copy(request.queryParams);\n        if (queryParams === undefined) {\n            queryParams = {};\n        }\n        var headers = apiGateway.core.utils.copy(request.headers);\n        if (headers === undefined) {\n            headers = {};\n        }\n\n        //If the user has not specified an override for Content type the use default\n        if(headers['Content-Type'] === undefined) {\n            headers['Content-Type'] = config.defaultContentType;\n        }\n\n        //If the user has not specified an override for Accept type the use default\n        if(headers['Accept'] === undefined) {\n            headers['Accept'] = config.defaultAcceptType;\n        }\n\n        var body = apiGateway.core.utils.copy(request.body);\n        if (body === undefined || verb === 'GET') { // override request body and set to empty when signing GET requests\n            body = '';\n        }  else {\n            body = JSON.stringify(body);\n        }\n\n        //If there is no body remove the content-type header so it is not included in SigV4 calculation\n        if(body === '' || body === undefined || body === null) {\n            delete headers['Content-Type'];\n        }\n\n        var datetime = new Date().toISOString().replace(/\\.\\d{3}Z$/, 'Z').replace(/[:\\-]|\\.\\d{3}/g, '');\n        headers[X_AMZ_DATE] = datetime;\n        var parser = document.createElement('a');\n        parser.href = awsSigV4Client.endpoint;\n        headers[HOST] = parser.hostname;\n\n        var canonicalRequest = buildCanonicalRequest(verb, path, queryParams, headers, body);\n        var hashedCanonicalRequest = hashCanonicalRequest(canonicalRequest);\n        var credentialScope = buildCredentialScope(datetime, awsSigV4Client.region, awsSigV4Client.serviceName);\n        var stringToSign = buildStringToSign(datetime, credentialScope, hashedCanonicalRequest);\n        var signingKey = calculateSigningKey(awsSigV4Client.secretKey, datetime, awsSigV4Client.region, awsSigV4Client.serviceName);\n        var signature = calculateSignature(signingKey, stringToSign);\n        headers[AUTHORIZATION] = buildAuthorizationHeader(awsSigV4Client.accessKey, credentialScope, headers, signature);\n        if(awsSigV4Client.sessionToken !== undefined && awsSigV4Client.sessionToken !== '') {\n            headers[X_AMZ_SECURITY_TOKEN] = awsSigV4Client.sessionToken;\n        }\n        delete headers[HOST];\n\n        var url = config.endpoint + path;\n        var queryString = buildCanonicalQueryString(queryParams);\n        if (queryString != '') {\n            url += '?' + queryString;\n        }\n\n        //Need to re-attach Content-Type if it is not specified at this point\n        if(headers['Content-Type'] === undefined) {\n            headers['Content-Type'] = config.defaultContentType;\n        }\n\n        var signedRequest = {\n            method: verb,\n            url: url,\n            headers: headers,\n            data: body\n        };\n        return axios(signedRequest);\n    };\n\n    return awsSigV4Client;\n};\n"]}}