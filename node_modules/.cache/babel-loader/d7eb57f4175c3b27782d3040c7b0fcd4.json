{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nwindow.submit = /*#__PURE__*/function () {\n  var _submitChat = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n    var host, level, budget, email, url, params, response;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            host = \"https://i9umv18cjj.execute-api.us-east-1.amazonaws.com/v2/recommend/?\";\n            level = document.getElementById('level').value;\n            budget = document.getElementById('budget').value;\n            email = document.getElementById('email').value;\n\n            if (!(level === \"\" || budget === \"\")) {\n              _context.next = 8;\n              break;\n            }\n\n            result_area = document.getElementById('hardware_info');\n            result_area.innerText = \"Need level and budget\";\n            return _context.abrupt(\"return\");\n\n          case 8:\n            url = host + \"level=\" + level + \"&budget=\" + budget;\n            params = {\n              \"level\": level,\n              \"budget\": budget\n            };\n\n            if (email !== \"\") {\n              url = url + \"&email=\" + email;\n              params['email'] = email;\n              console.log(url);\n            }\n\n            _context.next = 13;\n            return fetch(url, {\n              method: 'get',\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }).then(function (response) {\n              var result = response.json();\n              console.log(result.then(function (res) {\n                var allHardwares = res.body;\n                console.log(allHardwares);\n                var hardwareNames = [\"CPU\", \"GPU\", \"RAM\", \"SSD\", \"HDD\", \"USB\"];\n                document.getElementById('hardware_info').innerText = \"Here is our recommendations: (More results are send to your email) \\n\";\n\n                for (var j = 0; j < hardwareNames.length; j++) {\n                  var hardwareName = hardwareNames[j];\n                  var hardwareList = allHardwares[hardwareName];\n                  var hardwareArea = document.getElementById(hardwareName);\n                  hardwareArea.innerText = hardwareName + \":\\n \";\n                  hardwareArea.innerText += hardwareList[0];\n                }\n              }));\n            });\n\n          case 13:\n            response = _context.sent;\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  function submitChat(_x) {\n    return _submitChat.apply(this, arguments);\n  }\n\n  return submitChat;\n}();","map":{"version":3,"sources":["/Users/keyzhang/6156front/app/javascript/packs/search.js"],"names":["window","submit","e","host","level","document","getElementById","value","budget","email","result_area","innerText","url","params","console","log","fetch","method","headers","then","response","result","json","res","allHardwares","body","hardwareNames","j","length","hardwareName","hardwareList","hardwareArea","submitChat"],"mappings":";;;;;;AAAAA,MAAM,CAACC,MAAP;AAAA,6EAAgB,iBAA0BC,CAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AACFC,YAAAA,IADE,GACK,uEADL;AAEJC,YAAAA,KAFI,GAEIC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAFrC;AAGJC,YAAAA,MAHI,GAGKH,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAHvC;AAIJE,YAAAA,KAJI,GAIIJ,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiCC,KAJrC;;AAAA,kBAMJH,KAAK,KAAK,EAAV,IAAgBI,MAAM,KAAK,EANvB;AAAA;AAAA;AAAA;;AAOJE,YAAAA,WAAW,GAAGL,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAd;AACAI,YAAAA,WAAW,CAACC,SAAZ,GAAwB,uBAAxB;AARI;;AAAA;AAYJC,YAAAA,GAZI,GAYET,IAAI,GAAG,QAAP,GAAkBC,KAAlB,GAA0B,UAA1B,GAAuCI,MAZzC;AAaJK,YAAAA,MAbI,GAaK;AACT,uBAAST,KADA;AAET,wBAAUI;AAFD,aAbL;;AAkBR,gBAAIC,KAAK,KAAK,EAAd,EAAkB;AACdG,cAAAA,GAAG,GAAGA,GAAG,GAAG,SAAN,GAAkBH,KAAxB;AACAI,cAAAA,MAAM,CAAC,OAAD,CAAN,GAAkBJ,KAAlB;AACAK,cAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;;AAtBO;AAAA,mBAwBeI,KAAK,CAACJ,GAAD,EAAM;AAC9BK,cAAAA,MAAM,EAAE,KADsB;AAE9BC,cAAAA,OAAO,EAAE;AACL,gCAAgB;AADX;AAFqB,aAAN,CAAL,CAKpBC,IALoB,CAKf,UAAUC,QAAV,EAAoB;AACxB,kBAAMC,MAAM,GAAGD,QAAQ,CAACE,IAAT,EAAf;AACAR,cAAAA,OAAO,CAACC,GAAR,CAAYM,MAAM,CAACF,IAAP,CAAY,UAACI,GAAD,EAAO;AAC3B,oBAAMC,YAAY,GAAGD,GAAG,CAACE,IAAzB;AACAX,gBAAAA,OAAO,CAACC,GAAR,CAAYS,YAAZ;AACA,oBAAME,aAAa,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,CAAtB;AACArB,gBAAAA,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCK,SAAzC,GAAqD,uEAArD;;AACA,qBAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,aAAa,CAACE,MAAlC,EAA0CD,CAAC,EAA3C,EAA8C;AAC1C,sBAAIE,YAAY,GAAGH,aAAa,CAACC,CAAD,CAAhC;AACA,sBAAMG,YAAY,GAAGN,YAAY,CAACK,YAAD,CAAjC;AACA,sBAAME,YAAY,GAAG1B,QAAQ,CAACC,cAAT,CAAwBuB,YAAxB,CAArB;AACAE,kBAAAA,YAAY,CAACpB,SAAb,GAAyBkB,YAAY,GAAG,MAAxC;AACAE,kBAAAA,YAAY,CAACpB,SAAb,IAAwBmB,YAAY,CAAC,CAAD,CAApC;AACH;AACJ,eAZW,CAAZ;AAaH,aApBsB,CAxBf;;AAAA;AAwBFV,YAAAA,QAxBE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAhB;;AAAA,WAA+BY,UAA/B;AAAA;AAAA;;AAAA,SAA+BA,UAA/B;AAAA","sourcesContent":["window.submit = async function submitChat(e) {\n        const host = \"https://i9umv18cjj.execute-api.us-east-1.amazonaws.com/v2/recommend/?\"\n        var level = document.getElementById('level').value;\n        var budget = document.getElementById('budget').value;\n        var email = document.getElementById('email').value;\n\n        if (level === \"\" || budget === \"\") {\n            result_area = document.getElementById('hardware_info');\n            result_area.innerText = \"Need level and budget\"\n            return\n        }\n        \n        var url = host + \"level=\" + level + \"&budget=\" + budget;\n        var params = {\n            \"level\": level,\n            \"budget\": budget\n        };\n\n        if (email !== \"\") {\n            url = url + \"&email=\" + email\n            params['email'] = email\n            console.log(url)\n        }\n\n        const response = await fetch(url, {\n            method: 'get',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }).then(function (response) {\n            const result = response.json()\n            console.log(result.then((res)=>{\n                const allHardwares = res.body\n                console.log(allHardwares)\n                const hardwareNames = [\"CPU\", \"GPU\", \"RAM\", \"SSD\", \"HDD\", \"USB\"]\n                document.getElementById('hardware_info').innerText = \"Here is our recommendations: (More results are send to your email) \\n\";\n                for (let j = 0; j < hardwareNames.length; j++){\n                    let hardwareName = hardwareNames[j]\n                    const hardwareList = allHardwares[hardwareName]\n                    const hardwareArea = document.getElementById(hardwareName)\n                    hardwareArea.innerText = hardwareName + \":\\n \"\n                    hardwareArea.innerText+=hardwareList[0]\n                }\n            }))\n        })\n\n        // var apigClient = apigClientFactory.newClient();\n        // apigClient.recommendGet(params, body)\n        //     .then(function(result){\n        //         console.log(result['data'])\n        //         const allHardwares = result['data']['body']\n        //         console.log(allHardwares)\n        //         const hardwareNames = [\"CPU\", \"GPU\", \"RAM\", \"SSD\", \"HDD\", \"USB\"]\n        //         document.getElementById('hardware_info').innerText = \"Here is our recommendations: (More results are send to your email) \\n\";\n        //         for (let j = 0; j < hardwareNames.length; j++){\n        //             var hardwareName = hardwareNames[j]\n        //             const hardwareList = allHardwares[hardwareName]\n        //             const hardwareArea = document.getElementById(hardwareName)\n        //             hardwareArea.innerText = hardwareName + \":\\n \"\n        //             hardwareArea.innerText+=hardwareList[0]\n        //         }\n        //     }).catch( function(result){\n        //     console.log(JSON.stringify(result))\n        // });\n    }\n"]},"metadata":{},"sourceType":"module"}